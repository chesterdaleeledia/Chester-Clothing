<!DOCTYPE html>
<html>
<head>
    <title>Caps</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <div class="page-title">Caps</div>

    <nav class="nav-right">
        <a href="home.html" class="nav-link">Home</a>
        <a href="cart.html" class="nav-link">
            üõí Cart <span id="cart-count">0</span>
        </a>
        <button onclick="logout()" class="logout-btn">Logout</button>
    </nav>
</header>

<section class="products">

    <div class="card">
        <img src="assets/street caps.jpg" class="product-img">
        <h3>Blue Cap</h3>
        <p>‚Ç±450</p>
        <button onclick="addToCart('Blue Cap', 450, 'assets/street caps.jpg')">
            Add to Cart
        </button>
    </div>

    <div class="card">
        <img src="assets/black-baseball-cap-classic-style-versatile-wear_191095-80307.jpg" class="product-img">
        <h3>Baseball Cap</h3>
        <p>‚Ç±300</p>
        <button onclick="addToCart('Baseball Cap', 300, 'assets/black-baseball-cap-classic-style-versatile-wear_191095-80307.jpg')">
            Add to Cart
        </button>
    </div>

</section>

<script>

// üîê Protect page
if(localStorage.getItem("isLoggedIn") !== "true"){
    window.location.href = "login.html";
}

let cart = JSON.parse(localStorage.getItem("cart")) || [];

function updateCartCount(){
    document.getElementById("cart-count").innerText = cart.length;
}

function addToCart(name, price, image){
    cart.push({
        name:name,
        price:price,
        image:image   // ‚Üê IMAGE STORED HERE
    });

    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartCount();
    alert(name + " added to cart!");
}

function logout(){
    localStorage.removeItem("isLoggedIn");
    window.location.href="index.html";
}

updateCartCount();

</script>

</body>
</html>